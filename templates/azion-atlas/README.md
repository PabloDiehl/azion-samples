# Azion Sample to connect and create API with Atlas MongoDB

## Overview

The Atlas MongoDB is an automation designed to deploy a database directly on the edge while enabling the configuration of creating, retrieving, updating and deleting items is a collection.
 
As part of the deployment, this template creates a new GitHub repository that allows a continuous deployment workflow. This way, you're able to further configure and customize further the setup to attend to your needs, obtaining easy management and delivery of your personalized content. 
 
**Key configurations**
 
This template defines a series of key configurations to implement API CRUD solution. When you execute this template, the following processes are completed:
 
**Edge application creation:** an edge application is set up on Azion's platform, enabling the management of all your settings.
**Domain setup:** a new domain is configured to provide access to your edge application. You can also set up a custom domain to run on this edge application.
**Edge function creation:** an edge function is created and it provides the arguments for the rate limiting.
In this function for creating, retrieving, updating and deleting items in a MongoDB collection.
**GitHub repository creation:** a new repository is created in your GitHub account based on a [public template](https://github.com/aziontech/azion-samples/tree/dev/templates/azion-atlas).
 
Considering this initial setup may not be optimal for your specific web application, all settings can be customized at any time you need by using Azion Real-Time Manager (RTM). Once the template is deployed, you also have full control over customizing your MongoDB account and database.

**Important**

To guarantee the optimal performance of this template, the following Azion product must be activated in your account:

- [Edge Functions](https://www.azion.com/en/documentation/products/edge-application/edge-functions/)
- [Application Acceleration](https://www.azion.com/en/documentation/products/edge-application/application-acceleration/)
 

In case it isn't activated, you need to enable the product via RTM. Review the [Azion documentation](https://www.azion.com/en/documentation/products/guides/mongodb-boilerplate/) to do so.

 
If this product is activated, the execution of this template could generate usage-related costs. Check the [pricing page](https://www.azion.com/en/pricing/) for more information. 


Any cost generated by MongoDb usage will be processed and billed separately on the MongoDB platform. Visit the [Atlas MongoDB ](https://www.mongodb.com/pricing) official documentation for more details.

## Usage information

**Requirements**
 
Before using this template, you need to: 


1. Create an [MongoDB account](https://www.mongodb.com/cloud/atlas/register).
1. Create a cluster and add a new database.
1. Create a collection to be used in this example.
1. Active the service [Atlas Data API](https://www.mongodb.com/docs/atlas/app-services/data-api/)
1. Generate API key in [Atlas Service](https://www.mongodb.com/docs/atlas/app-services/authentication/api-key/#std-label-api-key-authentication)
1. Generate your [GitHub personal token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#creating-a-personal-access-token-classic).

While generating your GitHub personal token, grant that your scope has the permissions to authorize an OAuth app or a personal token to access to public and private repositories, including read and write access to code.You must also enable the workflow option to allow adding and updating GitHub Actions workflow files. Note that permissions can be scoped either to a user or an organization or to a repository. Read the Creating a personal access token documentation for more information.

When you've completed the requirements, click the Settings tab to configure the template.

## Settings

To successfully deploy this template, you must provide the information to configure your Azion application and others. Fields identified with an asterisk are mandatory.

- **Application Name***: the name of your edge application on Azion.
- **Data API key (MongoDB)***: the key to access your MongoDB database using Data API.
- **Data API URL (MongoDB)***: the url to access your MongoDB database using Data API.
- **GitHub Personal Token***: your GitHub personal token.
 

After filling out the form, click the Next button to start the deployment process.

 
Once the template is deployed, you can edit and update your args and code. However, you'll need to declare secrets on your project's GitHub repository first to complete the second build with these changes. When the second build is completed, you can manage your project with a continuous deployment workflow.


For a more detailed step-by-step on declaring your secrets and using this template, check the How to use the MongoDB template through Azion guide.